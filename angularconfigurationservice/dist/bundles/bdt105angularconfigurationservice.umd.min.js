!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("@angular/core"),require("bdt105toolbox/dist"),require("@angular/http")):"function"==typeof define&&define.amd?define(["exports","@angular/core","bdt105toolbox/dist","@angular/http"],o):o((t.ng=t.ng||{},t.ng.bdt105angularconfigurationservice={}),t.ng.core,t.dist,t.http)}(this,function(t,o,e,n){"use strict";var r=function(){function t(t){this.http=t,this.toolbox=new e.Toolbox,this.url="./assets/configuration.json",this.storageKey="configuration";var o=function(){};this.init(o,o)}return t.prototype.load=function(){var o=this;return new Promise(function(t){o.get()?t(!0):setTimeout(function(){console.log("hello world"),t(!0)},2e3)})},t.prototype.get=function(){return this.data=this.toolbox.readFromStorage(this.storageKey),this.data?this.data:null},t.prototype.init=function(o,e){var n=this;this.http.get(this.url).subscribe(function(t){return n.manageData(o,t)},function(t){return n.manageError(e,t)})},t.prototype.manageData=function(t,o){this.toolbox.log(o),this.data=this.toolbox.parseJson(o._body),this.toolbox.writeToStorage(this.storageKey,this.data,!1),t&&t(this.data)},t.prototype.manageError=function(t,o){console.log(o),t&&t(o)},t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:n.Http}]},t}();t.ConfigurationService=r,Object.defineProperty(t,"__esModule",{value:!0})});